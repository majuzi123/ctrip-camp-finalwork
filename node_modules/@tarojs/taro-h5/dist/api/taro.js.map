{"version":3,"file":"taro.js","sources":["../../src/api/taro.ts"],"sourcesContent":["import Taro from '@tarojs/api'\nimport { history } from '@tarojs/router'\nimport { isFunction } from '@tarojs/shared'\n\nimport { getApp, getCurrentInstance, getCurrentPages, navigateBack, navigateTo, nextTick, redirectTo, reLaunch, switchTab } from '../api'\nimport { permanentlyNotSupport } from '../utils'\n\nconst {\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  getInitPxTransform,\n  Current,\n  options,\n  eventCenter,\n  Events,\n  preload\n} = Taro as any\n\nconst taro: typeof Taro = {\n  // @ts-ignore\n  Behavior,\n  getEnv,\n  ENV_TYPE,\n  Link,\n  interceptors,\n  Current,\n  getCurrentInstance,\n  options,\n  nextTick,\n  eventCenter,\n  Events,\n  preload,\n  history,\n  navigateBack,\n  navigateTo,\n  reLaunch,\n  redirectTo,\n  getCurrentPages,\n  switchTab\n}\n\nconst initPxTransform = getInitPxTransform(taro)\n\nconst requirePlugin = permanentlyNotSupport('requirePlugin')\n\nconst pxTransform = function (size) {\n  const config = (taro as any).config\n  const baseFontSize = config.baseFontSize || 20\n  const designWidth = (((input = 0) => isFunction(config.designWidth)\n    ? config.designWidth(input)\n    : config.designWidth))(size)\n  const rootValue = baseFontSize / config.deviceRatio[designWidth] * 2\n  return Math.ceil((parseInt(size, 10) / rootValue) * 10000) / 10000 + 'rem'\n}\n\nconst canIUseWebp = function () {\n  const canvas = document.createElement('canvas')\n  return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0\n}\n\ntaro.requirePlugin = requirePlugin\ntaro.getApp = getApp\ntaro.pxTransform = pxTransform\ntaro.initPxTransform = initPxTransform\n// @ts-ignore\ntaro.canIUseWebp = canIUseWebp\n\nexport default taro\n\nexport {\n  Behavior,\n  canIUseWebp,\n  Current,\n  ENV_TYPE,\n  eventCenter,\n  Events,\n  getEnv,\n  history,\n  initPxTransform,\n  interceptors,\n  Link,\n  options,\n  preload,\n  pxTransform,\n  requirePlugin\n}\n"],"names":[],"mappings":";;;;;;;;;AAOM,MAAA,EACJ,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,IAAI,EACJ,YAAY,EACZ,kBAAkB,EAClB,OAAO,EACP,OAAO,EACP,WAAW,EACX,MAAM,EACN,OAAO,EACR,GAAG,KAAW;AAEf,MAAM,IAAI,GAAgB;;IAExB,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,IAAI;IACJ,YAAY;IACZ,OAAO;IACP,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,WAAW;IACX,MAAM;IACN,OAAO;IACP,OAAO;IACP,YAAY;IACZ,UAAU;IACV,QAAQ;IACR,UAAU;IACV,eAAe;IACf,SAAS;EACV;AAED,MAAM,eAAe,GAAG,kBAAkB,CAAC,IAAI,EAAC;AAEhD,MAAM,aAAa,GAAG,qBAAqB,CAAC,eAAe,EAAC;AAEtD,MAAA,WAAW,GAAG,UAAU,IAAI,EAAA;AAChC,IAAA,MAAM,MAAM,GAAI,IAAY,CAAC,MAAM,CAAA;AACnC,IAAA,MAAM,YAAY,GAAG,MAAM,CAAC,YAAY,IAAI,EAAE,CAAA;AAC9C,IAAA,MAAM,WAAW,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,KAAK,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC;AACjE,UAAE,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC;UACzB,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,CAAA;AAC9B,IAAA,MAAM,SAAS,GAAG,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;IACpE,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,SAAS,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,KAAK,CAAA;AAC5E,EAAC;AAED,MAAM,WAAW,GAAG,YAAA;IAClB,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;AAC/C,IAAA,OAAO,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAA;AACxE,EAAC;AAED,IAAI,CAAC,aAAa,GAAG,aAAa,CAAA;AAClC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;AACpB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAA;AAC9B,IAAI,CAAC,eAAe,GAAG,eAAe,CAAA;AACtC;AACA,IAAI,CAAC,WAAW,GAAG,WAAW;;;;"}