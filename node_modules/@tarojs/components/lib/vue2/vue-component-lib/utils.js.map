{"version":3,"file":"utils.js","sources":["../../../../taro-components-library-vue2/src/vue-component-lib/utils.ts"],"sourcesContent":["import Vue, { VNode, CreateElement } from \"vue\";\n\nexport const createCommonRender = (\n  tagName: string,\n  eventNames: string[] = []\n) =>\n  function (createElement: CreateElement): VNode {\n    const vueElement = this as Vue;\n    const allListeners = eventNames.reduce((listeners, eventName) => {\n      return {\n        ...listeners,\n        [eventName]: (event: CustomEvent<any>) => {\n          vueElement.$emit(eventName, event); if (['input', 'change'].includes(eventName)) vueElement.$emit('update:modelValue', event.detail.value);\n        },\n      };\n    }, vueElement.$listeners);\n    const attributes = vueElement.$props\n      ? Object.keys(vueElement.$props).reduce((attrs: any, prop: string) => {\n          const attributeName = toDashCase(prop);\n          attrs[attributeName] = vueElement.$props[prop];\n          return attrs;\n        }, {})\n      : {};\n    return createElement(\n      tagName,\n      {\n        ref: \"wc\",\n        domProps: vueElement.$props,\n        on: { ...allListeners, click: (event) => { typeof allListeners.click === 'function' && allListeners.click(event); vueElement.$emit('tap', event); } },\n        attrs: { ...attributes, \"data-testid\": tagName },\n      },\n      [vueElement.$slots.default]\n    );\n  };\n\nexport const createCommonMethod = (methodName: string) =>\n  function (...args: any[]) {\n    this.$refs.wc[methodName](...args);\n  } as unknown;\n\nexport const toLowerCase = (str: string) => str.toLowerCase();\n\nexport const toDashCase = (str: string) =>\n  toLowerCase(\n    str\n      .replace(/([A-Z0-9])/g, (g) => \" \" + g[0])\n      .trim()\n      .replace(/ /g, \"-\")\n  );\n"],"names":[],"mappings":"AAEO,MAAM,kBAAkB,GAAG,CAChC,OAAe,EACf,UAAA,GAAuB,EAAE,KAEzB,UAAU,aAA4B,EAAA;IACpC,MAAM,UAAU,GAAG,IAAW,CAAC;IAC/B,MAAM,YAAY,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,SAAS,KAAI;QAC9D,OACK,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,SAAS,KACZ,CAAC,SAAS,GAAG,CAAC,KAAuB,KAAI;AACvC,gBAAA,UAAU,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC;oBAAE,UAAU,CAAC,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC7I,aAAC,EACD,CAAA,CAAA;AACJ,KAAC,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC;AAC1B,IAAA,MAAM,UAAU,GAAG,UAAU,CAAC,MAAM;AAClC,UAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,KAAU,EAAE,IAAY,KAAI;AACjE,YAAA,MAAM,aAAa,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YACvC,KAAK,CAAC,aAAa,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC/C,YAAA,OAAO,KAAK,CAAC;SACd,EAAE,EAAE,CAAC;UACN,EAAE,CAAC;IACP,OAAO,aAAa,CAClB,OAAO,EACP;AACE,QAAA,GAAG,EAAE,IAAI;QACT,QAAQ,EAAE,UAAU,CAAC,MAAM;AAC3B,QAAA,EAAE,kCAAO,YAAY,CAAA,EAAA,EAAE,KAAK,EAAE,CAAC,KAAK,KAAI,EAAG,OAAO,YAAY,CAAC,KAAK,KAAK,UAAU,IAAI,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,EAAE,CAAA;AACrJ,QAAA,KAAK,kCAAO,UAAU,CAAA,EAAA,EAAE,aAAa,EAAE,OAAO,EAAE,CAAA;KACjD,EACD,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAC5B,CAAC;AACJ,EAAE;AAES,MAAA,kBAAkB,GAAG,CAAC,UAAkB,KACnD,UAAU,GAAG,IAAW,EAAA;IACtB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;AACrC,EAAa;AAER,MAAM,WAAW,GAAG,CAAC,GAAW,KAAK,GAAG,CAAC,WAAW,GAAG;AAEjD,MAAA,UAAU,GAAG,CAAC,GAAW,KACpC,WAAW,CACT,GAAG;AACA,KAAA,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,KAAA,IAAI,EAAE;AACN,KAAA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;;;;"}