{"version":3,"file":"pages/hotel-list/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;;;;;;;;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://xiecheng-final-work/._src_pages_hotel-list_index.jsx","webpack://xiecheng-final-work/._src_components_HotelCard_index.jsx","webpack://xiecheng-final-work/./src/pages/hotel-list/index.jsx?e695"],"sourcesContent":["import { Component, useState } from 'react'\nimport { View, Text, Input, Button, Checkbox, Icon, ScrollView, Picker, Slider } from '@tarojs/components'\nimport Taro, { useLoad } from '@tarojs/taro';\nimport './index.scss'\nimport HotelCard from '../../components/HotelCard';\nimport IconFont from '../../components/iconfont';\n\nexport default function Index() {\n\n  const [hotelsList, setHotelList] = useState([]);\n  const [loading, setLoading] = useState(true)\n  //   hotel: {\n  //     \"_id\": \"00001\",\n  //     \"name\": \"XX酒店(上海大渡河路地铁站店)\",\n  //     \"image\": \"https://pic.imgdb.cn/item/643554db0d2dde5777c63b14.jpg\",\n  //     \"location\": \"长风公园地区|靠近大渡河路地铁站\",\n  //     \"price\": 411.0,\n  //     \"commentNum\": 1229.0,\n  //     \"comment\": [\n  //         \"酒店功能完备\",\n  //         \"酒店装修豪华\"\n  //     ],\n  //     \"score\": 4.9\n  //   }\n  useLoad(async () => {\n    const hotels = (await Taro.cloud.callFunction({ name: 'get-hotel-list', data: { num: 10 } })).result\n    console.log(hotels)\n    setHotelList(hotels)\n    setLoading(false)\n  })\n\n  const appendHotels = async () => {\n    setLoading(true)\n    const hotels = (await Taro.cloud.callFunction({ name: 'get-hotel-list', data: { num: 10 } })).result\n    console.log(hotels)\n    setHotelList(hotelsList.concat(hotels))\n    setLoading(false)\n  }\n\n  const rangeScore = ['不限评分', '1分以上', '2分以上', '3分以上', '4分以上', '4.5分以上', '5分']\n  const rangeCommentNum = ['不限评价数', '10以上', '100以上', '1K以上', '1W以上']\n  const rangePrice = ['不限价格', '100以内', '200以内', '400以内', '800以内', '1600以内']\n  const [filter, setFilter] = useState(['不限评分', '不限评价数', '不限价格'])\n\n  const changeFilter = (index, content) => {\n    let newFilter = [...filter]\n    newFilter[index] = content\n    setFilter(newFilter)\n  }\n\n  const [searchContent, setSearchContent] = useState('');\n  const doSearch = () => {\n    if (searchContent != '') {\n      console.log(\"do search\")\n    }\n  }\n  return (\n    <View className='hotal-list-page'>\n      <View className='selector'>\n        <View className='filters'>\n          <Picker className='fliter' range={rangeScore} onChange={(e) => { changeFilter(0, rangeScore[e.target.value]) }}>\n            <View className='picker-content'>{filter[0]}</View>\n          </Picker>\n          <Picker className='fliter' range={rangeCommentNum} onChange={(e) => { changeFilter(1, rangeCommentNum[e.target.value]) }}>\n            <View className='picker-content'>{filter[1]}</View>\n          </Picker>\n          <Picker className='fliter' range={rangePrice} onChange={(e) => { changeFilter(2, rangePrice[e.target.value]) }}>\n            <View className='picker-content'>{filter[2]}</View>\n          </Picker>\n        </View>\n        <View className='searcher'>\n          <Input className='search'>12345</Input>\n          <View className='search-icon' onClick={doSearch}>\n            <IconFont name='chazhao' size='50rpx' />\n          </View>\n        </View>\n      </View>\n      <ScrollView className='hotel-cards' scrollY onScrollToLower={(appendHotels)}>\n        {Array.isArray(hotelsList) && hotelsList.map((item) => (\n          <HotelCard hotelDetails={item} ></HotelCard>\n        ))}\n        <View className='loading' hidden={loading}>正在加载酒店数据...</View>\n      </ScrollView>\n    </View>\n  )\n\n}\n","import { View, Image, Text } from '@tarojs/components'\nimport { useState } from 'react'\nimport './index.scss'\nimport StarsScore from '../../components/StarsScore';\n\n// {/* This is a hotel card, component of hotel list page. */}\nexport default function HotelCard({\n    hotelDetails\n}) {\n    return (\n        <View className='hotel-card'>\n            <View className='card-left'>\n                <Image className='hotel-image' src={hotelDetails.image} lazyLoad></Image>\n            </View>\n            <View className='card-right'>\n                <View className='hotel-name'>{hotelDetails.name}</View>\n                <View className='comment'>\n                    <StarsScore score={hotelDetails.score}></StarsScore>\n                    <Text className='comment-score'>{hotelDetails.score.toFixed(1)}分</Text>\n                    <Text className='comment-num'>{hotelDetails.commentNum}点评</Text>\n                </View>\n                <View className='location'>{hotelDetails.location}</View>\n                <View className='comment-content'>\"{hotelDetails.comment[Math.floor(Math.random() * hotelDetails.comment.length)]}\"</View>\n                <View className='hotel-price'>￥<Text className='cost'>{hotelDetails.price}</Text>起</View>\n            </View>\n        </View>\n    )\n}","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"酒店列表\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/hotel-list/index', {root:{cn:[]}}, config || {}))\n\n\n"],"names":[],"sourceRoot":""}