{"version":3,"file":"pages/index/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAEA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAEA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://xiecheng-final-work/._src_pages_index_index.jsx","webpack://xiecheng-final-work/./src/pages/index/index.jsx?a295"],"sourcesContent":["import { View, Text, Button, Image } from \"@tarojs/components\";\r\nimport \"./index.scss\";\r\nimport { navigateTo } from \"@tarojs/taro\";\r\nimport Taro from \"@tarojs/taro\";\r\nimport IconFont from '../../components/iconfont';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function Index() {\r\n  const [userInfo, setUserInfo] = useState({});\r\n\r\n  const navigateHandle = (url) => {\r\n    navigateTo({ url });\r\n  };\r\n\r\n  const getProfileInfo = () => {\r\n    Taro.getUserProfile({\r\n      desc: \"用于完善会员资料\",\r\n    }).then((res) => {\r\n      const { nickName, avatarUrl } = res.userInfo;\r\n\r\n      setUserInfo(() => {\r\n        return { nickName, avatarUrl };\r\n      });\r\n\r\n      Taro.setStorage({ key: \"userInfo\", data: { nickName, avatarUrl } });\r\n    });\r\n  };\r\n\r\n  const loginout = () => {\r\n    setUserInfo({});\r\n    Taro.setStorage({ key: \"userInfo\", data: {} });\r\n  };\r\n\r\n  useEffect(() => {\r\n    Taro.getStorage({ key: \"userInfo\" })\r\n      .then((res) => {\r\n        if (res.data.nickName && res.data.avatarUrl) {\r\n          console.log(res.data);\r\n          setUserInfo(res.data);\r\n        }\r\n      })\r\n      .catch(() => { });\r\n  }, []);\r\n\r\n  return (\r\n    <View className=\"commit-review-page\">\r\n      <View className=\"login-box\">\r\n        {!(userInfo.nickName && userInfo.avatarUrl) ? (\r\n          <Button onClick={getProfileInfo} class=\"login_in\">\r\n            获取用户信息\r\n          </Button>\r\n        ) : (\r\n          <View className=\"headerorname\">\r\n            <Image src={userInfo.avatarUrl} />\r\n            <View>{userInfo.nickName}</View>\r\n            <Text onClick={loginout} class=\"login_out\">\r\n              退出登录\r\n            </Text>\r\n          </View>\r\n        )}\r\n      </View>\r\n      <View className=\"list\">\r\n        <View\r\n          className=\"list-item\"\r\n          onClick={() => navigateHandle(\"/pages/hotel-list/index\")}\r\n        >\r\n          查看酒店列表 <IconFont name=\"quanxiangyou\" />\r\n        </View>\r\n        <View className=\"list-item\">\r\n          <Button open-type=\"feedback\" class=\"button\">\r\n            意见反馈\r\n          </Button>\r\n          <IconFont name=\"quanxiangyou\" />\r\n        </View>\r\n        <View className=\"list-item\">\r\n          <Button class=\"button\" open-type=\"contact\">\r\n            在线客服\r\n          </Button>\r\n          <IconFont name=\"quanxiangyou\" />\r\n        </View>\r\n        <View\r\n          className=\"list-item\"\r\n          onClick={() => navigateHandle(\"/pages/admin/index\")}\r\n        >\r\n          管理员登录 <IconFont name=\"quanxiangyou\" />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"用户界面\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/index/index', {root:{cn:[]}}, config || {}))\n\n\n"],"names":[],"sourceRoot":""}